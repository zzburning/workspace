/*******************************************************************************************
 * 					Filename: exclog_sysklogd.h
********************************************************************************************
 * Description:
 * 		this is a file header of exclog_sysklogd.c for libexcLOG. 
 * Version:
 * 	    V_0.1 Aug-27-2010
 * Copyright:
 * Author: 
 * History:
 * 		 V_0.1 Initial version of this code.
********************************************************************************************/
#ifndef __EXCLOG_SYSKLOGD_H_
#define __EXCLOG_SYSKLOGD_H_

#ifndef _GNU_SOURCE
#define _GNU_SOURCE	/*define for strchrnul*/
#endif

#include "exclog.h"
#include "exclog_public.h"

//switch used by local and remote
extern int syslogd_switch;
extern int klogd_switch;

/********************************************************************************************
 * Function: _exclog_syslogd_init()
 *----------------------------------------------------------------------------------------------------------------------------------------
 * Description: initialize syslogd.
 *---------------------------------------------------------------------------------------------------------------------------------------- 
 * Parameters:
 * @ be_syslog:IN,enable or disable syslogd.
 *---------------------------------------------------------------------------------------------------------------------------------------- 
 * Return :
 * 		 0:success.
 * 		-1:fail.
 ********************************************************************************************/
int _exclog_syslogd_init(int be_syslog);

/********************************************************************************************
 * Function: _exclog_klogd_init()
 *----------------------------------------------------------------------------------------------------------------------------------------
 * Description: initialize klogd.
 *---------------------------------------------------------------------------------------------------------------------------------------- 
 * Parameters:
 * @ be_klog:IN,enable or disable klogd.
 *---------------------------------------------------------------------------------------------------------------------------------------- 
 * Return :
 * 		 0:success.
 * 		-1:fail.
 ********************************************************************************************/
int _exclog_klogd_init(int be_klog);

/********************************************************************************************
 * Function: _exclog_syslogd_get()
 *----------------------------------------------------------------------------------------------------------------------------------------
 * Description: get syslog and format it to exclog_packet_t.
 *---------------------------------------------------------------------------------------------------------------------------------------- 
 * Parameters:
 * @ pkt:IN&OUT,result.
 *---------------------------------------------------------------------------------------------------------------------------------------- 
 * Return :
 * 		 0:success.
 * 		-1:fail.
 ********************************************************************************************/
int _exclog_syslogd_get(exclog_packet_t *pkt);

/********************************************************************************************
 * Function: _exclog_klogd_get()
 *----------------------------------------------------------------------------------------------------------------------------------------
 * Description: get klog and format it to exclog_packet_t.
 *---------------------------------------------------------------------------------------------------------------------------------------- 
 * Parameters:
 * @ pkt:IN&OUT,result.
 *---------------------------------------------------------------------------------------------------------------------------------------- 
 * Return :
 * 		 0:success.
 * 		-1:fail.
 ********************************************************************************************/
int _exclog_klogd_get(exclog_packet_t *pkt);

/********************************************************************************************
 * Function: _exclog_syslogd_deinit()
 *----------------------------------------------------------------------------------------------------------------------------------------
 * Description: stop syslogd,close socket and unlink file name.
 *---------------------------------------------------------------------------------------------------------------------------------------- 
 * Parameters:NULL.
 *---------------------------------------------------------------------------------------------------------------------------------------- 
 * Return :
 * 		 0:success.
 * 		-1:fail.
 ********************************************************************************************/
void _exclog_syslogd_deinit();

/********************************************************************************************
 * Function: _exclog_klogd_deinit()
 *----------------------------------------------------------------------------------------------------------------------------------------
 * Description: stop klogd.
 *---------------------------------------------------------------------------------------------------------------------------------------- 
 * Parameters:NULL.
 *---------------------------------------------------------------------------------------------------------------------------------------- 
 * Return :
 * 		 0:success.
 * 		-1:fail.
 ********************************************************************************************/
void _exclog_klogd_deinit();

#endif/*__EXCLOG_SYSKLOGD_H_*/
